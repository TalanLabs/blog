<!DOCTYPE html>
<html lang='fr-FR'>
<head><meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>

<title>Talan Labs | Blog</title>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112601921-3"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-40718882-5');
</script>

<link rel="icon" type="image/png" sizes="96x96" href='/img/favicon.png'>

<link rel="canonical" href="https://blog.talanlabs.com/pariscontainerday2018/">

<link rel="stylesheet" href='/css/bootstrap.min.css' type='text/css'/>
<link rel="stylesheet" href='/css/gaia.css' type='text/css'/>
<link rel="stylesheet" href='/css/fontawesome.min.css' type='text/css'/>
<link rel="stylesheet" href='/css/custom.css' type='text/css'/>

<link href='https://fonts.googleapis.com/css?family=Cambo|Lato:400,700' rel='stylesheet' type='text/css'>
</head>
<body>
<div class="content"><nav class="navbar navbar-expand-lg navbar-light fixed-top">
  <div class="container">
    <a class="navbar-brand" href='/'><img src='/img/logo_talanlabs_white_small.png' alt="Logo Talan Labs"/></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav mr-auto"></ul>
      <ul class="navbar-nav float-right">
        
        <li><a href="/categories" target="_parent">Les Labs</a></li>
        
        <li><a href="/tags" target="_parent">#Tags</a></li>
        
        <li><a href="/authors" target="_parent">Les Auteurs</a></li>
        
        <li><a href="https://talan.com/metiers/labs" target="_parent">Talan Labs</a></li>
        
      </ul>
    </div>
  </div>
</nav>





<div class="section section-header section-header-blog">
    <div class="parallax filter filter-color-black">
        <div class="image" style="background-image: url('/work-in-progress.jpg')"></div>
        <div class="container">
            <div class="content">
                <h1>Paris Container Day 2018</h1>
            </div>
        </div>
    </div>
</div>

<div class="section">
    <div class="container">
        <div class="row">
            <div class="col">
                <h1>Paris Container Day 2018</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-md-8">
                <div class="content-blog">

<h1 id="paris-container-day-2018">Paris Container Day 2018</h1>

<p><a href="Logo_PDC_2017.png"><img src="/Logo_PDC_2017.png" alt="" />
</a>Ce mardi 26 Juin se tenait à Paris, au pied de la Tour Eiffel, la troisième édition du Paris Container Day (<a href="https://paris-container-day.fr/">https://paris-container-day.fr</a>). Cette conférence avait pour but de partager une vision de l’écosystème des conteneurs d’aujourd’hui et de demain. Cette année, le thème de la conférence était « Vivre avec l’orchestration ». La question aujourd’hui n’est plus d’utiliser des conteneurs et un orchestrateur, le défi est maintenant de les déployer à grande échelle et d’adapter nos pratiques pour vivre avec l’orchestration.</p>

<p>Cette année, le PCD (Paris Container Day) a permis aux 450 participants de suivre des conférences passionnantes réparties selon 3 niveaux de connaissances/expertises : Débutant, intermédiaire et avancé. Autant dire que faire son choix était assez compliqué.<strong> </strong></p>

<h2 id="la-keynote-surprise"><strong>La keynote surprise !</strong></h2>

<p>La première demi-heure de cette journée qui s’annonçait chargée a été surprenante dans le bon sens du terme. Un orchestre à corde est monté sur scène. Vivre avec l&rsquo;orchestration. Quelle meilleure façon d&rsquo;expliquer un concept qu&rsquo;avec un exemple concret en images et en musique ?<a href="orchestre.png"><img src="/orchestre.png" alt="" />
</a></p>

<p>Les comparatifs ont été nombreux entre les 2 situations. On a parlé du rôle du compositeur et de l’orchestrateur dans l’organisation, de la façon dont on travaille en groupe ou individuellement, de son empathie et de savoir reconnaître quand le groupe n’a pas besoin d’un maître d’orchestre… La matinée commençait bien sur les airs de musique classique…</p>

<h2 id="quand-la-sécurité-parle-de-conteneurs"><strong>Quand la sécurité parle de conteneurs …</strong></h2>

<p>C’est Liz Rice (<a href="https://twitter.com/lizrice">@lizrice</a>) qui a ouvert le bal des « conférences techniques ». Cette ingénieure de chez AquaSecurity nous fait le constat que les acteurs de l’univers des conteneurs sont préoccupés par la sécurité. Le monde a changé, la durée de vie moyenne d’un conteneur est de 2,5 jours, on est loin de nos applications « legacy » livrées quelques fois par an… En tant qu’acteur emblématique de la sécurité dans les écosystèmes Docker, Liz Rice nous a rassurés (pour ceux qui auraient encore des doutes). Si on veut appliquer un patch une image pour quelques raisons que ce soit, la seule façon de faire est de relancer le pipeline de CI/CD ! Evidemment, il a été abordé les thématiques comme les images policies intégrés dans les pipelines, les contrôles des configurations de la sécurité des serveurs et la protection au « runtine » des conteneurs….</p>

<p>Clairement, aujourd’hui, (peut-être) pour rassurer l’audience, Liz Rice a conclu par les avantages en terme de sécurité de l’utilisation des clouds natives :</p>

<ul>
<li>Décomposition et segmentation des problèmes par l’ajout de couches de défense

<ul>
<li>Le déploiement continue par la fréquence de renouvellement (shorter attack windows)</li>
<li>Et les bonnes pratiques de la communauté ! (Vérifiez les vulnérabilités de vos conteneurs -&gt; <a href="https://github.com/aquasecurity/microscanner">https://github.com/aquasecurity/microscanner</a>)</li>
</ul></li>
</ul>

<h2 id="le-ml-avec-k8s-c-est-possible"><strong> </strong><strong>Le ML avec k8s, c’est possible !</strong></h2>

<p><a href="technology-2082642_960_720-1.jpg"><img src="/technology-2082642_960_720-1.jpg" alt="" />
</a></p>

<p>David Aronchick (<a href="https://twitter.com/aronchick">@aronchick</a>) est venu parler de Machine Learning (ML). Ce product manager a travaillé pour quelques projets sympas Chez Google (Google container engine, kubernetes, …). Aujourd’hui, il est le co-fondateur de <a href="https://github.com/kubeflow/kubeflow">KubeFlow</a>. Ce projet a pour vocation de faciliter le déploiement des écosystèmes de ML, qui sont à ce jour assez complexes. Vous expérimentez <a href="https://www.tensorflow.org/">TensorFlow</a> ? Vous avez un cluster kubernetes ?</p>

<p>Ce projet est pour vous…</p>

<h2 id="kubernetes-aujourd-hui"><strong>Kubernetes ? Aujourd’hui</strong></h2>

<p><a href="unnamed1.jpg"><img src="/unnamed1150x150.jpg" alt="" />
</a></p>

<p>Joe Beda disait en 2014 que « tout chez Google tourne dans des conteneurs ». Il est (entre autres) à l’origine du premier « <a href="https://github.com/kubernetes/kubernetes/commit/2c4b3a562ce34cddc3f8218a2c4d11c7310e6d56">commit</a> » sur le projet open-source d’orchestration de conteneur nommé Kubernetes. C’est une version « hybride » du célèbre Google Borg, le système de conteneur de Google. On sait aujourd’hui que Google démarre deux milliards de conteneurs par semaine.</p>

<p>Kubernetes (k8s) avance très vite, pour être up-to-date, c’est assez compliqué (publication de nombreux patchs de sécurité, de feature). Au moment où j’écris cet article, je me demande si je dois installer la v1.10 ou la v1.11-rc (release candidate). On peut dire que le projet est super vivant. Mais ne faut-il pas regarder la concurrence ? avec DC/OS ou Nomad ?</p>

<h2 id="fiabilité-et-complexité-opérationnelles"><strong>Fiabilité et complexité opérationnelles</strong></h2>

<p>Alexandre Beslic (<a href="https://twitter.com/abronan">@abronan</a>), un ancien de la Docker Core Engine Team est venu nous présenté une vision high-level de sa vision des orchestrateurs. Il a posé une question intéressante : « Utilise-t-on le produit adapté à nos besoins ? ». Kubernetes par exemple permet de gérer jusqu’à 10K nœuds, mais qui a besoin de gérer un parc aussi grand ? (hormis les grandes entreprises). Il y a-t-il aujourd’hui des solutions pour de petits clusters entre 1 et 50 nœuds ? Swarm et Nomad peut-être ? Alexandre Beslic a fait une comparaison de l’architecture technique de ces orchestrateurs pour mettre en évidence les algorithmes de gestion de la persistance de l’état des systèmes. Nous aurions pu nous croire sur une introduction autour de la BlockChain, mais non… On a parlé de « systèmes centralisés » vs « systèmes décentralisés », de consensus et de fortes consistances. Sa présentation intéressante nous a emmené vers son projet (mantissa) ou comment refondre le système actuel et le remplacer par un système basé sur le concept de « consistance éventuel » (Causal Consistency), pour ne plus assurer l’ordre exact mais seulement la présence de l’information… etcd <em>(la base de données distribuées utilisée avec k8s)</em> n’a plus qu’à bien se tenir…</p>

<ol>
<li><strong>Strong consistency</strong> : strongest guarantee

<ol>
<li><strong>Causal (+) consistency</strong> : strongest guarantee below linearizability</li>
<li><strong>Strong eventual consistency</strong> : updated independently without coordination</li>
<li><strong>Eventual consistency</strong> : weak consistency model</li>
</ol></li>
</ol>

<p>Quelques projets utilisent déjà le <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type">CRDT</a> (Conflit-free Replicated Data Type _<strong>aka</strong> _Strong Eventual Consitency) comme CosmoDB (Microsoft), AntidoteDB, Bolt-on (Cassandra), &hellip;</p>

<h2 id="les-tests-e2e-chez-meetic"><strong>Les tests E2E chez Meetic</strong></h2>

<p>Nous aurions pu débattre sur la pyramide des tests, sur le fait d’avoir plus de tests unitaires, que de tests de comportement et que de tests end-to-end (E2E), mais ce n’était pas le sujet… Sébastien Le Gall et Sébastien Lavallée nous ont présenté comment ils ont automatisé l’exécution de leurs tests end-to-end (E2E) avec k8s dans un monde distribué avec des caches, des microservices, des brokers&hellip; Evidemment, les stacks sont à reconstruire intégralement à la volée avec leur orchestrateur mais le plus intéressant a été la gestion multiple des namespaces (un par utilisateur pour la scalabilité et le parallélisme). Intéressant, dans un système distribué, il y a forcément des composants interdépendant (un process peut attendre une base de données…) et pour gagner du temps, quand on lance des batteries de tests, k8s offre des options de synchronisation au démarrage :</p>

<ul>
<li>init-container : mise en attente d’un conteneur

<ul>
<li>pods life-cycle : synchro</li>
</ul></li>
</ul>

<h2 id="google-container-tools"><strong> </strong><strong>Google Container Tools</strong></h2>

<p>David Gageot de Google Cloud a commencé sa session par « Qui aime reconstruire son image docker, la tagger et la pousser dans k8s ? puis recommencer indéfiniment ? personne… ». Il n’avait pas faux. Il nous a présenté quelques outils pour développer efficacement dans un monde de conteneurs grâce aux projets Google Container Tools (<a href="https://github.com/GoogleContainerTools">https://github.com/GoogleContainerTools</a>)</p>

<ul>
<li><strong>Skaffold</strong> : un outil de skaffolding en ligne de commande pour faciliter la vie des <em>dev</em> k8s

<ul>
<li><strong>Distroless</strong> : des images de base pour construire vos images plus légères et plus sécurisées (parfois vraiment mieux conçu que les versions &ldquo;alpine&rdquo; des produits de base)</li>
<li><strong>Bazel</strong> : pour construire Docker sans Docker</li>
<li><strong>Kaniko</strong> : pour construire du « docker » sans avoir accès à la socket docker (« merci ma CI »)</li>
<li><em>Petit tuyau de David</em> : pensez à ajouter le répertoire .git dans votre fichier .dockerignore (et tous les fichiers ou répertoires inutiles au build), cela améliore les performances du build docker qui envoie l’ensemble du répertoire au démon docker pour traitement…</li>
</ul></li>
</ul>

<h2 id="conclusion-de-la-journée-hashcorp-nomad150x150-png"><strong>Conclusion</strong>** de la journée**[<img src="/Hashcorp-Nomad150x150.png" alt="" /></h2>

<p>](Hashcorp-Nomad.png)</p>

<p>Ce fut une journée bien chargée. Mais ce qui m’aura le plus fait plaisir, c&rsquo;est les retours d’expériences sur Nomad, l’orchestrateur de déploiement made by HashiCorp (aussi connu pour sa galaxie de produit : Terraform, Vault, &hellip;).  Il est compatible avec tous les grands cloud providers : AWS, GCP, Azure, Digital Ocean. Original, il ne se limite pas seulement aux conteneurs, il gère aussi des applications standalones. Nomad est également capable d’optimiser l’utilisation serveur afin d’exploiter toute la capacité disponible plutôt que de créer plus d’instances. La question est : « <strong>aura-t-il une chance de résister face au mastodonte de Google ?</strong> »</p>
<div class="separator separator-danger"><img src='/img/talan_star_small.png'
                                                                 alt="Etoile Talan"/></div>
                </div>
            </div>

            <div class="col-md-3 col-md-offset-1 text-center right-column">
                <h3 class="social-title"><i class="fas fa-calendar-alt"></i> Date</h3>
                <time class="f6 mv4 dib tracked" datetime='2018-08-08T09:55:32Z'>
                    Publié le 8 août 2018
                </time>

                <h3 class="social-title"><i class="fas fa-pen"></i> Auteur</h3>
                <div class="author">
    <div class="avatar avatar-danger">
        
        <img alt="Avatar François BERTHAULT" src='/img/francois_berthault.jpg'>
        
    </div>
    <div class="description text-center">
        <h3 class="big-text">
            
            François BERTHAULT
            
        </h3>
        <p class="small-text">Coach DevOps</p>
    </div>
    <div class="social-buttons">
        
        <a href="https://twitter.com/fanfansama" target="_blank" class="btn btn-social btn-simple"><i class="fab fa-twitter"></i></a>
        
        
        <a href="https://www.linkedin.com/in/fran%c3%a7ois-berthault-491a5850" target="_blank" class="btn btn-social btn-simple"><i class="fab fa-linkedin"></i></a>
        
        
    </div>
</div>


                <h3 class="social-title"><i class="fas fa-flask"></i> Lab</h3>
                <div class="article-tags">
    
    <a class="badge badge-light" href='/categories/lab-v'>Lab V</a></div>


                <h3 class="social-title"><i class="fas fa-hashtag"></i> Tags</h3>
                <div class="article-tags">
    
    <a class="badge badge-light" href='/tags/container'>#container</a>
    <a class="badge badge-light" href='/tags/conteneur'>#conteneur</a>
    <a class="badge badge-light" href='/tags/kubernetes'>#Kubernetes</a></div>


            </div>
        </div>
    </div>
</div>

<div class="section">
    <div class="container">
        <h3 class="social-title"><i class="fas fa-comments"></i> Commentaires</h3>
        <div class="row">
            <div class="col-md-8">
                <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "labs-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
</div>




<div class="section">
    <div class="container">
        <h3 class="social-title"><i class="fas fa-forward"></i> Vous aimerez peut-être...</h3>
        <div class="card-deck">
        
            <a href="/vim-cest-bien-mais-vscode/" class="card text-center">
    
    
    
    <div class="ribbon red"><span>Lab V</span></div>
    
    

    
    

    <div class="card-header">
        <h2 class="card-title">VIM c&#39;est bien mais je préfère VSCode ! Merci X11 …</h2>
        <span class="card-subtitle mb-2 text-muted">
            <strong>François BERTHAULT</strong>,
            <time class="post-date" datetime='2018-07-09T19:54:59Z'>
                le 9 juillet 2018
            </time>
        </span>
    </div>

    <div class="card-body">
        <p class="card-text">Il nous arrive très souvent de devoir écrire des scripts ou bien du code directement sur les machines virtuelles de développement (parce que notre système d&rsquo;exploitation ne …</p>
    </div>

    <div class="card-footer">
        <div class="article-tags tags-margin">
    
    <span class="badge badge-light">DevOps</span>
    <span class="badge badge-light">vscode</span>
    <span class="badge badge-light">x11</span></div>

        <div class="btn offer-link"><strong>Lire la suite</strong> <i class="fas fa-chevron-right"></i></div>
    </div>
</a>

        
            <a href="/crip-club-responsables-infra-prod/" class="card text-center">
    
    
    
    <div class="ribbon red"><span>Lab V</span></div>
    
    

    
    

    <div class="card-header">
        <h2 class="card-title">CRiP : Club des Responsables de l’Infrastructure …</h2>
        <span class="card-subtitle mb-2 text-muted">
            <strong>François BERTHAULT</strong>,
            <time class="post-date" datetime='2018-07-02T19:52:51Z'>
                le 2 juillet 2018
            </time>
        </span>
    </div>

    <div class="card-body">
        <p class="card-text">J&rsquo;ai eu l&rsquo;occasion de connaitre le CRiP par l&rsquo;intermédiaire de l&rsquo;un de mes clients où j&rsquo;opère en mission en ce moment.</p>
    </div>

    <div class="card-footer">
        <div class="article-tags tags-margin">
    
    <span class="badge badge-light">DSI</span></div>

        <div class="btn offer-link"><strong>Lire la suite</strong> <i class="fas fa-chevron-right"></i></div>
    </div>
</a>

        
            <a href="/le-chaos-engineering/" class="card text-center">
    
    
    
    <div class="ribbon red"><span>Lab V</span></div>
    
    

    
    

    <div class="card-header">
        <h2 class="card-title">Le chaos engineering</h2>
        <span class="card-subtitle mb-2 text-muted">
            <strong>Daniel DOMINGUE</strong>,
            <time class="post-date" datetime='2018-06-22T06:00:02Z'>
                le 22 juin 2018
            </time>
        </span>
    </div>

    <div class="card-body">
        <p class="card-text">_Cet article s’insère dans notre série « Chaos Engineering ».</p>
    </div>

    <div class="card-footer">
        <div class="article-tags tags-margin">
    
    <span class="badge badge-light">chaos</span>
    <span class="badge badge-light">chaos engineering</span>
    <span class="badge badge-light">monkey</span></div>

        <div class="btn offer-link"><strong>Lire la suite</strong> <i class="fas fa-chevron-right"></i></div>
    </div>
</a>

        
        </div>
        
    </div>
</div>

</div><footer class="footer footer-big footer-blue">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-4">
                <div class="info">
                    <h5 class="title">Les Labs de Talan</h5>
                    <nav>
                        <ul>
                            <li><a href='/categories/lab-0'><i class="fas fa-flask"></i> Lab Agilité</a></li>
                            <li><a href='/categories/lab-k'><i class="fas fa-flask"></i> Lab Blockchain</a></li>
                            <li><a href='/categories/lab-v'><i class="fas fa-flask"></i> Lab DevOps</a></li>
                            <li><a href='/categories/lab-9'><i class="fas fa-flask"></i> Lab Bootcamp</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="info">
                    <h5 class="title">Talan Labs</h5>
                    <nav>
                        <ul>
                            <li><a href="https://twitter.com/TalanLabs" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                            <li><a href="https://www.linkedin.com/company/talanlabs/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                            <li><a href="https://talan.com/metiers/labs/" target="_blank"><i class="fas fa-link"></i> Site web</a></li>
                            <li><a href="https://www.welcometothejungle.co/fr/companies/talanlabs/" target="_blank"><i class="fas fa-briefcase"></i> Welcome to the Jungle</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="info">
                    <h5 class="title">Le groupe Talan</h5>
                    <nav>
                        <ul>
                            <li><a href="https://twitter.com/talan_fr" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                            <li><a href="https://www.linkedin.com/company/talan/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                            <li><a href="https://www.facebook.com/talan/" target="_blank"><i class="fab fa-facebook"></i> Facebook</a></li>
                            <li><a href="https://talan.com/" target="_blank"><i class="fas fa-link"></i> Site web</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <hr>
        <div class="copyright">© 2019 - Le Blog des Labs de Talan</div>
    </div>
</footer>
</body>


<script type="text/javascript" src='/js/jquery.min.js'></script>
<script type="text/javascript" src='/js/bootstrap.min.js'></script>


<script type="text/javascript" src='/js/modernizr.js'></script>

<script type="text/javascript" src='/js/fontawesome.min.js'></script>


<script type="text/javascript" src='/js/gaia.js'></script>

<script type="text/javascript" src='/js/custom.js'></script>
</html>
